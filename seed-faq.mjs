import { drizzle } from "drizzle-orm/mysql2";
import { faqArticles } from "./drizzle/schema.js";

const db = drizzle(process.env.DATABASE_URL);

const initialFaq = [
  {
    question: "Как начать работу с системой?",
    answer: "Для начала работы нажмите кнопку 'Начать' на главной странице и создайте свою первую компанию. Затем выберите тип интервью (полное или сокращенное) и пройдите опрос. Система автоматически сгенерирует бизнес-процесс с рекомендациями.",
    keywords: "начать, старт, первые шаги, регистрация, создать компанию",
    category: "Начало работы",
    order: 1,
  },
  {
    question: "Сколько стоит генерация бизнес-процесса?",
    answer: "Генерация одного бизнес-процесса стоит 100 токенов. При регистрации вы получаете 1000 токенов бесплатно, которых хватит на 10 процессов.",
    keywords: "стоимость, цена, токены, оплата, сколько стоит",
    category: "Токены и оплата",
    order: 2,
  },
  {
    question: "Как пополнить баланс токенов?",
    answer: "В данный момент пополнение баланса токенов находится в разработке. Скоро будет доступна интеграция с платежными системами. Следите за обновлениями!",
    keywords: "пополнить, купить токены, баланс, оплата",
    category: "Токены и оплата",
    order: 3,
  },
  {
    question: "Чем отличается полное интервью от сокращенного?",
    answer: "Полное интервью содержит более детальные вопросы о вашем бизнесе и позволяет получить более точные рекомендации. Сокращенное интервью быстрее заполнить, но результат будет менее детализированным. Рекомендуем использовать полное интервью для важных процессов.",
    keywords: "интервью, полное, сокращенное, разница, отличие",
    category: "Интервью",
    order: 4,
  },
  {
    question: "Могу ли я редактировать сгенерированный процесс?",
    answer: "Да, после генерации вы можете просмотреть процесс, добавить комментарии и сохранить его в различных форматах. В будущем планируется добавить полноценный редактор процессов.",
    keywords: "редактировать, изменить, процесс, правка",
    category: "Работа с процессами",
    order: 5,
  },
  {
    question: "В каких форматах можно экспортировать процесс?",
    answer: "Сгенерированный процесс можно экспортировать в форматах PNG (изображение), PDF (документ) и BPMN (для импорта в другие системы моделирования процессов).",
    keywords: "экспорт, формат, скачать, сохранить, png, pdf, bpmn",
    category: "Работа с процессами",
    order: 6,
  },
  {
    question: "Как связаться с поддержкой?",
    answer: "Вы можете связаться с нами через чат поддержки, который доступен в правом нижнем углу на всех страницах сайта. Мы отвечаем в рабочее время (пн-пт, 9:00-18:00 МСК).",
    keywords: "поддержка, помощь, связаться, контакты, чат",
    category: "Поддержка",
    order: 7,
  },
  {
    question: "Безопасны ли мои данные?",
    answer: "Да, все данные хранятся в защищенной базе данных с шифрованием. Мы не передаем ваши данные третьим лицам и соблюдаем политику конфиденциальности.",
    keywords: "безопасность, данные, конфиденциальность, защита",
    category: "Безопасность",
    order: 8,
  },
];

async function seedFaq() {
  try {
    console.log("Заполнение базы FAQ начальными данными...");
    
    for (const faq of initialFaq) {
      await db.insert(faqArticles).values(faq);
      console.log(`✓ Добавлен вопрос: ${faq.question}`);
    }
    
    console.log("\n✅ База FAQ успешно заполнена!");
    process.exit(0);
  } catch (error) {
    console.error("❌ Ошибка при заполнении базы FAQ:", error);
    process.exit(1);
  }
}

seedFaq();
